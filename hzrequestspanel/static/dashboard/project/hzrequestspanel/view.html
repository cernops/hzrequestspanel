<div class="form" layout="column" layout-padding ng-controller="DialogController">
  <h3>Request quota change for "{$ project_name $}"</h3>
  <div id="section_compute" layout="row" class="fila" layout-padding>
    <div flex="30" class="div-title-fila">
      <h4>Compute</h4>
    </div>
    <div flex layout="column">
      <div layout="row" class="fila-dato">
        <div flex class="bold">Number of instances</div>
        <div flex>
          <input type="hidden" id="instances_number_actual" value="{$ nova_limits.maxTotalInstances $}" />
          <input type="number" id="instances_number" ng-model="instances" ng-change="changeNumber('instances', 'number')" ng-mouseup="changeNumber('instances', 'number')" min="{$ nova_limits.totalInstancesUsed $}" value="{$ nova_limits.maxTotalInstances $}" tabindex="7"/>
        </div>
      </div>
      <div layout="row" class="fila-dato">
        <div flex class="bold">Number of cores</div>
        <div flex>
          <input type="hidden" id="cores_number_actual" value="{$ nova_limits.maxTotalCores $}"/>
          <input type="number" id="cores_number" ng-model="cores" ng-change="changeNumber('cores', 'number')" ng-mouseup="changeNumber('cores', 'number')" min="{$ nova_limits.totalCoresUsed $}" value="{$ nova_limits.maxTotalCores $}" tabindex="8"/></div>
      </div>
      <div layout="row" class="fila-dato">
        <div flex class="bold">RAM</div>
        <div flex>
          <input type="hidden" id="ram_number_actual" value="{$ nova_limits.maxTotalRAMSize $}"/>
          <input type="number" id="ram_number" ng-model="ram" ng-change="changeNumber('ram', 'number')" ng-mouseup="changeNumber('ram', 'number')" min="{$ nova_limits.totalRAMUsed $}" value="{$ nova_limits.maxTotalRAMSize $}" tabindex="9"/> GB</div>
      </div>
    </div>
  </div>
  <div id="section_storage" layout="row" class="fila" layout-padding>
    <div flex="30" class="div-title-fila">
      <h4>Storage</h4>
      <div class="volume-description" ng-hide="volume_descrip" layout-padding layout-margin>
            <p>Click the volume type to get the volume description.</p>
      </div>
      <div class="volume-description" ng-show="volume_descrip" layout-padding layout-margin>
              <h5>Volume type description</h5>
              <table>
                <tbody>
                  <tr>
                    <td>Name: </td>
                    <td>{$name$}</td>
                  </tr>
                  <tr>
                    <td>Usage: </td>
                    <td>{$usage$}</td>
                  </tr>
                  <tr>
                    <td>Hypervisor: </td>
                    <td>{$hyper$}</td>
                  </tr>
                  <tr>
                    <td>Max IOPS: </td>
                    <td>{$max_iops$}</td>
                  </tr>
                  <tr>
                    <td>Max Throughput: </td>
                    <td>{$max_throughput$}</td>
                  </tr>
                </tbody>
              </table>
      </div>
    </div>
    <div flex layout="column">
      <div id="div_volume_data_headers" layout="row">
        <div flex></div>
        <div flex>Number</div>
        <div flex>Space</div>
      </div>
      <div class="loading" ng-show="loading_img_show_storage">
          <img ng-src="{$ static_url $}dashboard/project/hzrequestspanel/loading.svg" alt="loading spinner" />
      </div>
      <div id="div_storage_rows">
          <div layout="row" class="fila-dato"
              ng-repeat="vol_type in volume_type_list_limits"
              ng-click="show_volume(vol_type.id)">
              <input type="hidden" id="{$ vol_type.name $}_number_actual" value="{$ vol_type.volumes.total $}">
              <input type="hidden" id="{$ vol_type.name $}_size_actual" value="{$ vol_type.gigabytes.total $}">
              <div flex class="bold">{$ vol_type.name $}</div>
              <div flex class="div-input-number">
                  <input type="number"
                         min="{$ vol_type.volumes.used $}"
                         value="{$ vol_type.volumes.total $}"
                         id="{$ vol_type.name $}_number"
                         ng-change="changeNumber(vol_type.name, 'number')"
                         ng-mouseup="changeNumber(vol_type.name, 'number')"
                         ng-model="number"
                         tabindex="{$ $index + 10 $}"/>
              </div>
              <div flex class="div-input-number">
                  <input type="number"
                         min="{$ vol_type.gigabytes.used $}"
                         value="{$ vol_type.gigabytes.total $}"
                         id="{$ vol_type.name $}_size"
                         ng-change="changeNumber(vol_type.name, 'size')"
                         ng-mouseup="changeNumber(vol_type.name, 'size')"
                         ng-model="size"
                         tabindex="{$ $index + 11 $}"/> GB
              </div>
        </div>
      </div>
    </div>
  </div>
  <div id="section_comments" layout="row" class="fila" layout-padding>
    <div flex="30" class="div-title-fila">
      <h4>Additional comments</h4>
    </div>
    <div flex>
      <textarea id="textarea-comments" tabindex="30"></textarea>
    </div>
  </div>
  <div layout="row" layout-align="end center" class="fila" layout-padding>
        <div><button class="btn btn-default secondary cancel" ng-click="cancel()" tabindex="31">Cancel</button></div>
        <div><button class="btn btn-default secondary cancel" ng-click="reset(false)" tabindex="32">Reset</button></div>
        <div><button class="btn btn-primary" ng-click="send_request()" tabindex="21">Request!</button></div>
  </div>
</div>
